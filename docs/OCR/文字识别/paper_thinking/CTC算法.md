# 从动态规划理解CTC算法

* CTC算法解决了标签不对齐问题，ctc loss的大小为所有可以表示为target sequence的概率和的负对数。所以，CTC算法就转变成路径概率和的求解过程【动态规划】。
*  显而易见，这是一个二维动态规划问题（分别是字符空间与时间空间），我们设 $dp[t][s]$ 表示时刻 $1:t$，由前 $s$ 个字符构成路径 $l_{1:s}$ 的概率（$1:s$表示路径$l$由前s个元素构成，**并且可以转化为label的路径**）
* $dp[t][s]$可以由哪些状态转移过来呢？
	*  $dp[t][s]=dp[t-1][s]*p_t(s)$  【前后时刻预测为相同字符】
		* $dp[t-1][s]$： 前$t-1$个时刻构成$l_{1:s}$的概率，乘以$p_t(s)$得到$l_{1:s}$的概率
	* $dp[t][s]=dp[t-1][s-1]*p_t(s)$  【前后时刻预测为不同字符】
		*   $dp[t-1][s-1]$ ：前$t-1$个时刻构成$l_{1:s-1}$的概率,乘以$p_t(s)$得到$l_{1:s}$的概率
	* $dp[t][s]=dp[t-1][s-2]*p_t(s)$  
		*   $dp[t-1][s-2]$：前$t-1$个时刻构成$l_{1:s-2}$的概率,乘以$p_t(s)$得到$l_{1:s}$的概率，只在部分情况下生效
			*   $s!=[blank]$
			*   位置$s$,位置$s-2$元素不相等
